(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(7),c=a.n(r),o=(a(14),a(1)),u=a(2),l=a(4),s=a(3),m=a(5),d=[0,51,101,151,201,301,401,501],f=[0,12.1,35.5,55.6,150.5,250.5,350.5,500.1];function p(t){return d.findIndex(function(e){return t<e})}var h=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(s.a)(e).call(this,t))).state={status:"retrieving data...",color:"white",data:null},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("//api.waqi.info/feed/"+this.props.city+"/?token=7ef04af09a2a93a67569a5c774a03c617e99103e").then(function(t){return t.json()}).then(function(e){if("ok"!==e.status)throw new Error;var a=e.data,n=function(t){var e=p(t),a=f[e-1]+(t-d[e-1])*(f[e]-.1-f[e-1])/(d[e]-d[e-1]);return Math.round(10*a)/10}(a.iaqi.pm25.v);t.setState({data:{mug:n,aqicat:p(a.iaqi.pm25.v),aqi25:a.iaqi.pm25.v,aqi10:a.iaqi.pm10.v,localTime:new Date(a.time.s),universalTime:new Date(a.time.s+a.time.tz)}})}).catch(function(e){return t.setState({status:"failed to load data"})})}},{key:"render",value:function(){var t=this.state.data;return t?i.a.createElement("div",null,t.localTime.toLocaleTimeString()," local time",i.a.createElement("br",null),t.mug," \xb5g/m3",i.a.createElement("br",null),"AQI: ",i.a.createElement("span",{className:"aqi"+t.aqicat},t.aqi25)):this.state.status}}]),e}(i.a.Component),v=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"CityData"},i.a.createElement("header",null,this.props.city),i.a.createElement("content",null,i.a.createElement(h,{city:this.props.city})))}}]),e}(i.a.Component);var E=function(){return i.a.createElement("div",{id:"content"},i.a.createElement(v,{city:"Vienna"}),i.a.createElement(v,{city:"Kunming"}),i.a.createElement(v,{city:"London"}))};c.a.render(i.a.createElement(E,null),document.getElementById("root"))},8:function(t,e,a){t.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.7d04a2d0.chunk.js.map